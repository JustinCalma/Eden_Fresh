title User Management Success Scenario - Enable Account

participant "System Administrator" as admin
participant "User Management: UI" as ui
participant "User Management : Controller" as control
participant "User Management : Service" as service
participant "User Management : SQL DAO" as umDAO
participant "User Management : SQL DB" as umStore
participant "User Management : Logger" as logger

activate control
control->ui : new umUI()
activate ui
ui->ui : Constructor
ui-->control : umUI Instance
deactivate ui


control->umDAO : dao = new umDAO()
activate umDAO
umDAO->umDAO : Constructor
umDAO-->control : return dao
deactivate umDAO

control->service : service = new umService(dao : umDAO) 
activate service
service->service : Constructor
service-->control : return service
deactivate service

control->ui : ui.getUserInput()
activate ui
ui->admin : Show prompt to the user
activate admin
admin-->ui : User attempts to select their desired operation
deactivate admin

ui-->control : User has selected "Update Account"
deactivate ui
control->control : Validate input

control->service : umService.updateUser()
activate service
service->umDAO : umDAO.writeToDataStore(userName : String, email : String, password : String)
activate umDAO
umDAO->umStore : UPDATE FROM "TABLE" VALUES (userName, email, password)
activate umStore
umStore-->umDAO : True : Boolean
deactivate umStore
umDAO-->service : change : int
deactivate umDAO

# Boolean = true?
service-->control : True : Boolean
deactivate service

control->logger : new umLogger(userID : int, logLevel : enum, category : enum, message : String)
activate logger
logger->logger : Refer to the Logging Sequence Diagram
logger-->control : True : Boolean